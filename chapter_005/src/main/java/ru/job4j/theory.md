Garbage Collection Theory
=================================
В JVM память делится на два сегмента – Heap и Permanent Generation.
---------------------------------
**Permanent generation используется только JVM для хранения необходимых данных, в том числе метаданные о созданных объектах.** При каждом создании объекта JVM будет «класть» некоторый набор данных в PG.

Размер PG можно задать двумя параметрами JVM: **-XX:PermSize** – задаёт минимальный, или изначальный, размер PG, и **-XX:MaxPermSize** – задаёт максимальный размер.

**Heap – основной сегмент памяти, где хранятся все ваши объекты. Heap делится на два подсегмента, Old Generation и New Generation. New Generation в свою очередь делится на Eden и два сегмента Survivor.**

JVM память = Permanent Generation и Heap(Old Generation, New Generation(Eden, Survivor))
---------------------------------
Размер heap также можно указать параметрами -Xms (минимум) и -Xmx (максимум).

Новые объекты создаются в Eden. Когда вы хотите создать новый объект, но места в Eden уже нет, JVM проводит garbage collection, что значит, что JVM ищет в памяти все объекты, которые более не нужны, и избавляется от них, то есть JVM обнаруживает, что Eden полон и надо провести чистку. 

Copy Collection
---------------------------------
Самый простой алгоритм для garbage collection называется **Copy Collection**. На первом этапе (**Mark**) помечаются неиспользуемые объекты. На втором (**Copy**) объекты, которые ещё нужны копируется в сегмент survivor. Сегментов Survivor два, и они меньше Eden. Теперь все объекты, которые мы хотим, чтобы они были сохранены, скопированы в Survivor, и JVM просто удаляет всё из Eden. Этот алгоритм создаёт кое-что, что называется моментом, «когда мир остановился». Во время выполнения GC все другие процессы в JVM переводятся в состояние паузы, ради того, чтобы никакой из них не попробовал влезть в память после того, как мы скопировали всё оттуда, что привело бы к потере того, что сделано. Copy Collection работает хорошо в том случае, если у нас небольшое приложение, много мусора и мало полезных объектов.

Mark-Sweep-Compact Collection
---------------------------------
1) «Mark»: помечаются неиспользуемые объекты.
2) «Sweep»: эти объекты удаляются из памяти.
3) «Compact»: объекты размещаются, занимая свободные слоты, что освобождает пространство на тот случай, если потребуется создать «большой» объект.
